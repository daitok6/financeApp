{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import api from'./api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[transactions,setTransactions]=useState([]);const[transactionId,setTransactionId]=useState(null);const[formData,setFormData]=useState({amount:'',category:'',description:'',is_income:false,date:''});const fetchTransactions=async()=>{const response=await api.get('/transactions/');setTransactions(response.data);};useEffect(()=>{fetchTransactions();},[]);const handleInputChange=event=>{const value=event.target.type==='checkbox'?event.target.checked:event.target.value;setFormData({...formData,[event.target.name]:value});};const handleCreateSubmit=async event=>{event.preventDefault();await api.post('/transactions/',formData);fetchTransactions();setFormData({amount:'',category:'',description:'',is_income:false,date:'',id:''});};const handleDetailSubmit=async(event,transaction_id)=>{event.preventDefault();const response=await api.get(\"/transactions/\".concat(transaction_id),transactionId);setTransactionId(transactionId);console.log(response.data);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-dark bg-primary\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"a\",{className:\"navbar-brand\",href:\"/\",children:\"Finance App\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 mt-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"amount\",className:\"form-label\",children:\"amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"amount\",name:\"amount\",onChange:handleInputChange,value:formData.amount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",className:\"form-label\",children:\"category\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"category\",name:\"category\",onChange:handleInputChange,value:formData.category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label\",children:\"description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"description\",name:\"description\",onChange:handleInputChange,value:formData.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"is_income\",className:\"form-label me-1\",children:\"income\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"is_income\",name:\"is_income\",onChange:handleInputChange,value:formData.is_income})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date\",className:\"form-label\",children:\"date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"date\",name:\"date\",onChange:handleInputChange,value:formData.date})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"submit\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered table-hover mt-5\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"income?\"}),/*#__PURE__*/_jsx(\"th\",{children:\"date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:transactions.map(transaction=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:transaction.amount}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:event=>handleDetailSubmit(event,transaction.id),children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-link\",children:transaction.category})})}),/*#__PURE__*/_jsx(\"td\",{children:transaction.description}),/*#__PURE__*/_jsx(\"td\",{children:transaction.is_income?'yes':'no'}),/*#__PURE__*/_jsx(\"td\",{children:transaction.date}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"ms-auto\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"me-3 btn btn-info\",children:\"edit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-danger\",children:\"delete\"})]})})]},transaction.id))})]})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","api","jsx","_jsx","jsxs","_jsxs","App","transactions","setTransactions","transactionId","setTransactionId","formData","setFormData","amount","category","description","is_income","date","fetchTransactions","response","get","data","handleInputChange","event","value","target","type","checked","name","handleCreateSubmit","preventDefault","post","id","handleDetailSubmit","transaction_id","concat","console","log","children","className","href","onSubmit","htmlFor","onChange","map","transaction"],"sources":["/Users/daito/repos/fast-react-app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport api from './api'\n\nconst App = () => {\n  const [transactions, setTransactions] = useState([])\n  const [transactionId, setTransactionId] = useState(null)\n  const [formData, setFormData] = useState({\n    amount: '',\n    category: '',\n    description: '',\n    is_income: false,\n    date: ''\n  });\n\n  const fetchTransactions = async () => {\n    const response = await api.get('/transactions/');\n    setTransactions(response.data)\n  };\n\n  useEffect(() => {\n    fetchTransactions();\n  }, [])\n\n  const handleInputChange = (event) => {\n    const value = event.target.type === 'checkbox' ? event.target.checked : event.target.value;\n    setFormData({\n      ...formData,\n      [event.target.name]: value,\n    });\n  };\n\n  const handleCreateSubmit = async (event) => {\n    event.preventDefault();\n    (await api.post('/transactions/', formData));\n    fetchTransactions();\n    setFormData({\n      amount: '',\n      category: '',\n      description: '',\n      is_income: false,\n      date: '',\n      id: '',\n    });\n  };\n\n  const handleDetailSubmit = async (event, transaction_id) => {\n    event.preventDefault();\n    const response = await api.get(`/transactions/${transaction_id}`, transactionId);\n    setTransactionId(transactionId);\n    console.log(response.data)\n  };\n\n  return (\n    <div>\n      <nav className=\"navbar navbar-dark bg-primary\">\n        <div className=\"container-fluid\">\n          <a className=\"navbar-brand\" href=\"/\">\n            Finance App\n          </a>\n        </div>\n      </nav>\n\n      <div className=\"container\">\n        <form onSubmit={handleCreateSubmit}>\n          <div className=\"mb-3 mt-3\">\n            <label htmlFor=\"amount\" className=\"form-label\">\n              amount\n            </label>\n            <input type=\"text\" className=\"form-control\" id=\"amount\" name=\"amount\" onChange={handleInputChange} value={formData.amount} />\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"category\" className=\"form-label\">\n              category\n            </label>\n            <input type=\"text\" className=\"form-control\" id=\"category\" name=\"category\" onChange={handleInputChange} value={formData.category} />\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"description\" className=\"form-label\">\n              description\n            </label>\n            <input type=\"text\" className=\"form-control\" id=\"description\" name=\"description\" onChange={handleInputChange} value={formData.description} />\n          </div>\n\n          <div className=\"mb-2\">\n            <label htmlFor=\"is_income\" className=\"form-label me-1\">\n              income\n            </label>\n            <input type=\"checkbox\" id=\"is_income\" name=\"is_income\" onChange={handleInputChange} value={formData.is_income} />\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"date\" className=\"form-label\">\n              date\n            </label>\n            <input type=\"text\" className=\"form-control\" id=\"date\" name=\"date\" onChange={handleInputChange} value={formData.date} />\n          </div>\n\n          <button type=\"submit\" className=\"btn btn-primary\">submit</button>\n        </form>\n\n\n\n        <table className=\"table table-striped table-bordered table-hover mt-5\">\n          <thead>\n            <tr>\n              <th>amount</th>\n              <th>category</th>\n              <th>description</th>\n              <th>income?</th>\n              <th>date</th>\n            </tr>\n          </thead>\n          <tbody>\n            {transactions.map((transaction) => (\n              <tr key={transaction.id}>\n                <td>{transaction.amount}</td>\n                <td>\n                  <form onSubmit={(event) => handleDetailSubmit(event, transaction.id)}>\n                    <button type=\"submit\" className=\"btn btn-link\">\n                      {transaction.category}\n                    </button>\n                  </form>\n                </td>\n                <td>{transaction.description}</td>\n                <td>{transaction.is_income ? 'yes' : 'no'}</td>\n                <td>\n                  {transaction.date}\n                </td>\n                <td>\n                  <div className=\"ms-auto\">\n                    <button type=\"submit\" className=\"me-3 btn btn-info\">\n                      edit\n                    </button>\n                    <button type=\"submit\" className=\"btn btn-danger\">\n                      delete\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n\n        </table>\n      </div>\n    </div>\n  )\n\n}\n\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}